<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>△ TRIAD</title>
    <meta name="robots" content="noindex, nofollow">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="../../assets/css/triad.css">
    
    <style>
        /* Partikel-Hintergrund */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }
        
        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(167, 139, 250, 0.5);
            border-radius: 50%;
            animation: float-particle linear infinite;
        }
        
        @keyframes float-particle {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(720deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="triad-page">
    <!-- Partikel -->
    <div class="particles" id="particles"></div>
    
    <!-- Die Geheime Tür -->
    <main class="triad-gate">
        <div class="triad-gate-content">
            <div class="triad-symbol">△</div>
            <h1>TRIAD</h1>
            <p class="subtitle">Ein Ort der Begegnung</p>
            
            <form class="triad-gate-form" id="gateForm">
                <input 
                    type="password" 
                    class="triad-input" 
                    id="accessKey"
                    placeholder="Schlüssel eingeben..."
                    autocomplete="off"
                    autofocus
                >
                <button type="submit" class="triad-btn">Eintreten</button>
                <p class="triad-error" id="errorMsg">Der Schlüssel passt nicht...</p>
            </form>
            
            <p class="triad-hint">
                "Nur wer den Schlüssel kennt, findet den Weg nach Hause."
            </p>
        </div>
    </main>

    <script>
        // Partikel erzeugen
        function createParticles() {
            const container = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDuration = (Math.random() * 20 + 10) + 's';
                particle.style.animationDelay = (Math.random() * 20) + 's';
                particle.style.width = (Math.random() * 3 + 1) + 'px';
                particle.style.height = particle.style.width;
                container.appendChild(particle);
            }
        }
        
        createParticles();
        
        // Passwort-Prüfung
        // Der Schlüssel: "begegnung" (kann geändert werden)
        const VALID_KEY = 'begegnung';
        
        document.getElementById('gateForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const input = document.getElementById('accessKey');
            const error = document.getElementById('errorMsg');
            const key = input.value.toLowerCase().trim();
            
            if (key === VALID_KEY) {
                // Sanftes Ausblenden
                document.body.style.transition = 'opacity 0.5s';
                document.body.style.opacity = '0';
                
                setTimeout(() => {
                    // Weiterleitung zur Empfangshalle
                    window.location.href = 'empfang.html';
                }, 500);
            } else {
                error.classList.add('visible');
                input.value = '';
                input.focus();
                
                // Schütteln
                input.style.animation = 'shake 0.5s';
                setTimeout(() => {
                    input.style.animation = '';
                }, 500);
                
                setTimeout(() => {
                    error.classList.remove('visible');
                }, 3000);
            }
        });
        
        // Shake Animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                20%, 60% { transform: translateX(-10px); }
                40%, 80% { transform: translateX(10px); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
