/* ===================================
   ULTRA-AGGRESSIVE MOBILE FIXES
   Diese Datei ÜBERSCHREIBT ALLES!
   =================================== */

/* KRITISCH: Diese Datei MUSS als LETZTES geladen werden! */

@media (max-width: 768px) {
    /* ========================================
       GLOBALE CONTAINER-FIXES
       ======================================== */
    
    .viz-container,
    .experiment-visualization,
    #entanglement-viz,
    #double-slit-viz,
    #neural-network-viz,
    #time-dilation-viz {
        height: auto !important;
        min-height: auto !important;
        max-height: none !important;
        padding: 1rem !important;
    }
    
    /* ========================================
       DOPPELSPALT - KOMPAKT!
       ======================================== */
    
    .slit-setup {
        height: auto !important;
        min-height: auto !important;
        max-height: none !important;
        grid-template-columns: 1fr !important;
        grid-template-rows: auto auto auto !important;
        gap: 1rem !important;
        padding: 0.5rem !important;
    }
    
    .slits,
    .slits-container {
        height: auto !important;
        min-height: 80px !important;
        max-height: 120px !important;
        padding: 0.5rem 0 !important;
        gap: 0.5rem !important;
    }
    
    .electron-source {
        height: auto !important;
        min-height: auto !important;
        margin: 0.5rem 0 !important;
    }
    
    .electron-gun {
        font-size: 2rem !important;
        height: auto !important;
    }
    
    .detection-screen {
        width: 100% !important;
        max-width: 240px !important;
        height: 100px !important;
        min-height: 100px !important;
        max-height: 100px !important;
        margin: 0.5rem auto !important;
    }
    
    #detection-canvas {
        width: 100% !important;
        max-width: 240px !important;
        height: 100px !important;
        min-height: 100px !important;
        max-height: 100px !important;
    }
    
    /* ========================================
       QUANTENVERSCHRÄNKUNG - KOMPAKT!
       ======================================== */
    
    #entanglement-viz {
        height: auto !important;
        min-height: auto !important;
        grid-template-columns: 1fr !important;
        grid-template-rows: auto auto auto !important;
        gap: 1rem !important;
        padding: 1rem !important;
    }
    
    .particle-container {
        height: auto !important;
        min-height: auto !important;
        margin: 0.5rem 0 !important;
    }
    
    .particle {
        width: 60px !important;
        height: 60px !important;
        margin: 0.5rem auto !important;
    }
    
    .entanglement-line {
        height: auto !important;
        min-height: auto !important;
        margin: 1rem 0 !important;
        transform: none !important;
    }
    
    .wave-line {
        width: 100px !important;
        height: 2px !important;
    }
    
    /* ========================================
       NEURONALES NETZWERK - KOMPAKT!
       ======================================== */
    
    .network-display {
        height: auto !important;
        min-height: auto !important;
        max-height: none !important;
        padding: 1rem !important;
        flex-direction: column !important;
        gap: 1.5rem !important;
    }
    
    .layer {
        height: auto !important;
        min-height: auto !important;
        flex-direction: row !important;
        gap: 1rem !important;
    }
    
    .neuron {
        width: 45px !important;
        height: 45px !important;
        font-size: 0.9rem !important;
    }
    
    /* ========================================
       ZEITDILATATION - KOMPAKT!
       ======================================== */
    
    #time-dilation-viz {
        height: auto !important;
        min-height: auto !important;
        max-height: none !important;
    }
    
    .scenario {
        height: auto !important;
        min-height: auto !important;
        max-height: none !important;
        grid-template-columns: 1fr !important;
        grid-template-rows: auto auto !important;
        gap: 1rem !important;
        padding: 0 !important;
    }
    
    .person,
    .spaceship {
        height: auto !important;
        min-height: auto !important;
        padding: 1rem !important;
        margin: 0.5rem 0 !important;
    }
    
    .rocket-container {
        height: auto !important;
        min-height: 80px !important;
        max-height: 120px !important;
        padding: 1rem !important;
    }
    
    .person-icon,
    .ship-icon {
        font-size: 2.5rem !important;
        margin: 0.5rem 0 !important;
    }
    
    .clock {
        font-size: 1.5rem !important;
        margin: 0.5rem 0 !important;
    }
    
    /* ========================================
       CONTROLS & BUTTONS
       ======================================== */
    
    .controls {
        height: auto !important;
        min-height: auto !important;
        flex-direction: column !important;
        gap: 0.75rem !important;
        padding: 1rem 0 !important;
    }
    
    .controls label {
        width: 100% !important;
        margin: 0.5rem 0 !important;
    }
    
    /* ========================================
       RESULTS & STATS
       ======================================== */
    
    .results,
    .training-stats {
        height: auto !important;
        min-height: auto !important;
        grid-template-columns: 1fr !important;
        gap: 0.75rem !important;
        padding: 1rem 0 !important;
    }
    
    .result-card,
    .stat {
        height: auto !important;
        min-height: auto !important;
        padding: 1rem !important;
    }
    
    /* ========================================
       EXPERIMENT SECTIONS
       ======================================== */
    
    .experiment-content {
        height: auto !important;
        min-height: auto !important;
        width: 100% !important;
        max-width: 100% !important;
        padding: 0 1rem !important;
    }
    
    .experiment-interactive {
        height: auto !important;
        min-height: auto !important;
        width: 100% !important;
    }
    
    .experiment-section {
        height: auto !important;
        min-height: auto !important;
        padding: 3rem 1rem !important;
    }
}

@media (max-width: 480px) {
    /* Noch kleinere Anpassungen für sehr kleine Screens */
    
    .viz-container {
        padding: 0.75rem !important;
    }
    
    .detection-screen,
    #detection-canvas {
        max-width: 200px !important;
        height: 80px !important;
        min-height: 80px !important;
        max-height: 80px !important;
    }
    
    .particle {
        width: 50px !important;
        height: 50px !important;
    }
    
    .neuron {
        width: 40px !important;
        height: 40px !important;
        font-size: 0.8rem !important;
    }
    
    .slits {
        min-height: 70px !important;
        max-height: 100px !important;
    }
    
    .person-icon,
    .ship-icon {
        font-size: 2rem !important;
    }
    
    .clock {
        font-size: 1.25rem !important;
    }
}
